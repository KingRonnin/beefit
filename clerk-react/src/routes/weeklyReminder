import React from 'react';
import './WeeklyReminder.css';
import {
  ScheduleComponent, Day, Week, WorkWeek, Month, Agenda,
  EventSettingsModel, Inject, ViewDirective, ViewsDirective
} from '@syncfusion/ej2-react-schedule';
import { DataManager, WebApiAdaptor } from '@syncfusion/ej2-data';

class WeeklyReminder extends React.Component {
  private localData: EventSettingsModel = {
    dataSource: [{
      EndTime: new Date(2023, 0, 11, 6, 30),
      StartTime: new Date(2023, 0, 11, 4, 0),
      Summary: 'Morning Workout',
      IsAllDay: false,
      RecurrenceRule: 'FREQ=DAILY;INTERVAL=1;'
    }],
    fields: {
      subject: { name: 'Summary', default: 'Fitness Event' },
      startTime: { name: 'StartTime' },
      endTime: { name: 'EndTime' }
    }
  };

  render() {
    return (
      <div className='schedule-control-section'>
        <ScheduleComponent currentView='Week'
          eventSettings={this.localData}
          editorTemplate={this.editorWindowTemplate.bind(this)}>
          <ViewsDirective>
            <ViewDirective option='Day' />
            <ViewDirective option='Week' />
            <ViewDirective option='WorkWeek' />
            <ViewDirective option='Month' />
            <ViewDirective option='Agenda' />
          </ViewsDirective>
          <Inject services={[Day, Week, WorkWeek, Month, Agenda]} />
        </ScheduleComponent>
      </div>
    );
  }

  editorWindowTemplate(props: any): JSX.Element {
    return (
      <table className="custom-event-editor" style={{ width: '100%', cellpadding: '5' }}>
        <tbody>
          <tr>
            <td className="e-textlabel">Summary</td>
            <td colSpan={4}>
              <input id="Summary" className="e-field e-input" type="text" name="Summary" style={{ width: '100%' }}/>
            </td>
          </tr>
          <tr>
            <td className="e-textlabel">From</td>
            <td colSpan={4}>
              <input id="StartTime" className="e-field e-input" type="datetime-local" name="StartTime" style={{ width: '100%' }}/>
            </td>
          </tr>
          <tr>
            <td className="e-textlabel">To</td>
            <td colSpan={4}>
              <input id="EndTime" className="e-field e-input" type="datetime-local" name="EndTime" style={{ width: '100%' }}/>
            </td>
          </tr>
        </tbody>
      </table>
    );
  }
}

export default WeeklyReminder;  
